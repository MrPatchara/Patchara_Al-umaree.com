const portfolioData=[{id:1,title:'Sport Science Innovation 2025',description:'üèÜReceived the First Runner-up Award',image:'images/port1.jpg',tech:['Microcontroller','Python']},{id:2,title:'Speaker NAC2025',description:'üìçTOPIC: Brain Computer Interface Presentation @NSTDA Conference',image:'images/port2.jpg',tech:['AI','Health','Conference']},{id:3,title:'Motion capture training',description:'‚úçTraining Nokov 3D Camera @ Beijing China',image:'images/port3.jpg',tech:['Biomechanics','3D','Camera']},{id:4,title:'Robotics Control',description:'ü§ñControl system for robotic hand using OpenCV',image:'images/port4.jpg',tech:['Hand Tracking','OpenCV','Python']},{id:5,title:'RU Innovation 2024',description:'‚≠êPROJECT: Smart Advertisement System using AI and Image Recognition',image:'images/port5.jpg',tech:['AI','OpenCV','Python']},{id:6,title:'Smart Parcel Receiving Box',description:'üì¶Automatic notification system for parcel delivery with solar power.',image:'images/port6.jpg',tech:['Microcontroller','Sensor']},{id:7,title:'High Altitude room',description:'üèûÔ∏èOn the job training high altitude environment simulation @ Singapore',image:'images/port7.jpg',tech:['Hypoxia','PLC control']}];function scrollToSection(e){const t=document.getElementById(e),r=document.getElementById('header');if(t&&r){const e=r.offsetHeight;window.scrollTo({top:t.offsetTop-e,behavior:'smooth'})}}function initParticles(){const e=document.getElementById('particles');if(!e)return;for(let t=0;t<15;t++){const r=document.createElement('div');r.className='particle',r.style.left=100*Math.random()+'%',r.style.top=100*Math.random()+'%',r.style.animationDelay=20*Math.random()+'s',r.style.animationDuration=18+8*Math.random()+'s',e.appendChild(r)}}let currentIndex=0;const carousel=document.getElementById('carousel'),indicatorsContainer=document.getElementById('indicators');function createCarouselItem(e,t){const r=document.createElement('div');return r.className='carousel-item',r.dataset.index=t,r.innerHTML=`<div class="card"><div class="card-number">0${e.id}</div><div class="card-image"><img src="${e.image}" alt="${e.title}"></div><h3 class="card-title">${e.title}</h3><p class="card-description">${e.description}</p><a class="card-cta" href="portfolio-${e.id}.html" aria-label="Open ${e.title} details">Explore</a></div>`,r}function initCarousel(){portfolioData.forEach((e,t)=>{carousel.appendChild(createCarouselItem(e,t));const r=document.createElement('div');r.className='indicator',0===t&&r.classList.add('active'),r.dataset.index=t,r.addEventListener('click',()=>goToSlide(t)),indicatorsContainer.appendChild(r)}),updateCarousel()}function updateCarousel(){const e=document.querySelectorAll('.carousel-item'),t=document.querySelectorAll('.indicator'),r=e.length;let i=window.innerWidth<=1024;e.forEach((e,t)=>{let a=t-currentIndex;a>r/2?a-=r:a<-r/2&&(a+=r);const o=Math.abs(a),s=a<0?-1:1,c=window.innerWidth<=768;let d=400,l=600,u=750;if(c)d=280,l=420,u=550;else if(!i||!(i=!0)){d=340,l=520,u=650}0===o?(e.style.transform='translate(-50%, -50%) translateZ(0) scale(1)',e.style.opacity='1',e.style.zIndex='10'):1===o?(e.style.transform=`translate(-50%, -50%) translateX(${s*d}px) translateZ(-200px) rotateY(${-s*(c?25:30)}deg) scale(${c?.88:.85})`,e.style.opacity='0.8',e.style.zIndex='5'):2===o?(e.style.transform=`translate(-50%, -50%) translateX(${s*l}px) translateZ(-350px) rotateY(${-s*(c?35:40)}deg) scale(${c?.75:.7})`,e.style.opacity='0.5',e.style.zIndex='3'):3===o?(e.style.transform=`translate(-50%, -50%) translateX(${s*u}px) translateZ(-450px) rotateY(${-s*(c?40:45)}deg) scale(${c?.65:.6})`,e.style.opacity='0.3',e.style.zIndex='2'):(e.style.transform='translate(-50%, -50%) translateZ(-500px) scale(0.5)',e.style.opacity='0',e.style.zIndex='1'),e.style.transition='all 0.8s cubic-bezier(0.4, 0.0, 0.2, 1)'}),t.forEach((e,t)=>{e.classList.toggle('active',t===currentIndex)})}function nextSlide(){currentIndex=(currentIndex+1)%portfolioData.length,updateCarousel()}function prevSlide(){currentIndex=(currentIndex-1+portfolioData.length)%portfolioData.length,updateCarousel()}function goToSlide(e){currentIndex=e,updateCarousel()}const nextBtn=document.getElementById('nextBtn'),prevBtn=document.getElementById('prevBtn');nextBtn&&nextBtn.addEventListener('click',nextSlide),prevBtn&&prevBtn.addEventListener('click',prevSlide),carousel&&indicatorsContainer&&setInterval(nextSlide,5e3),document.addEventListener('keydown',e=>{const t=document.getElementById('certLightboxModal');t&&t.classList.contains('active')||(carousel&&indicatorsContainer&&('ArrowLeft'===e.key&&prevSlide(),'ArrowRight'===e.key&&nextSlide()))});let resizeTimeout;window.addEventListener('resize',()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout(()=>{updateCarousel()},250)}),carousel&&indicatorsContainer&&initCarousel(),initParticles();const menuToggle=document.getElementById('menuToggle'),navMenu=document.getElementById('navMenu');menuToggle&&navMenu&&menuToggle.addEventListener('click',()=>{navMenu.classList.toggle('active'),menuToggle.classList.toggle('active')});const header=document.getElementById('header');window.addEventListener('scroll',()=>{header&&(window.scrollY>100?header.classList.add('scrolled'):header.classList.remove('scrolled'))});const sections=document.querySelectorAll('section[id]'),navLinks=document.querySelectorAll('.nav-link');navLinks.forEach(e=>{e.addEventListener('click',t=>{const r=e.getAttribute('href');if(r&&r.startsWith('#')){t.preventDefault();const i=document.getElementById(r.substring(1));if(i&&header){const t=header.offsetHeight;window.scrollTo({top:i.offsetTop-t,behavior:'smooth'}),navMenu&&menuToggle&&(navMenu.classList.remove('active'),menuToggle.classList.remove('active'))}}else navMenu&&menuToggle&&(navMenu.classList.remove('active'),menuToggle.classList.remove('active'))})}),window.addEventListener('scroll',()=>{const e=window.scrollY+100;sections.forEach(t=>{const r=t.offsetTop;if(e>=r&&e<r+t.offsetHeight){const i=t.getAttribute('id');navLinks.forEach(t=>{const r=t.getAttribute('href').substring(1);t.classList.toggle('active',r===i)})}})}),document.querySelectorAll('.stat-number').forEach(e=>{const t=e.dataset.target;t&&(e.textContent=t)});const contactForm=document.getElementById('contactForm');contactForm&&contactForm.addEventListener('submit',async e=>{e.preventDefault();const t=contactForm.querySelector('.submit-btn');if(t){const r=t.textContent;t.textContent='Sending...',t.disabled=!0;try{const e=new FormData(contactForm),r={name:e.get('name')||'',email:e.get('email')||'',subject:e.get('subject')||'',message:e.get('message')||''},i=await fetch('/api/send-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(r)});if(i.ok){const e=await i.json();alert(`‚úÖ Thank you ${r.name}! Your message has been sent successfully. I'll respond within 24 hours.`),contactForm.reset()}else{const e=await i.json();alert('‚ùå Failed to send message: '+(e.error||'Unknown error'))}}catch(e){console.error('Form submission error:',e),alert('‚ùå Error: '+e.message)}finally{t.textContent=r,t.disabled=!1}}}),function(){const e=document.getElementById('loader');if(e){const t=!sessionStorage.getItem('pageLoaded');if(!t)return void e.classList.add('hidden');sessionStorage.setItem('pageLoaded','true');const r=document.getElementById('line1'),i=document.getElementById('line2'),o=document.getElementById('line3');if(!r||!i||!o)return;function typeText(e,t,a=50){return new Promise(c=>{let d=0;e.textContent='';const l=setInterval(()=>{d<t.length?(e.textContent+=t.charAt(d),d++):(clearInterval(l),c())},a)})}let s=!1,c=!1,d=null;const l=async()=>{await typeText(r,'Trace: Locating Server @8.8.xx.xx',40),await new Promise(e=>setTimeout(e,200)),await typeText(i,'Status: [SCANNING_PORTS]..',40),await new Promise(e=>setTimeout(e,200)),await typeText(o,'Access: PENDING_',40),!function(){if(d)return;let e=!0;d=setInterval(()=>{o.classList.remove('pending-red','pending-green'),o.classList.add(e?'pending-red':'pending-green'),e=!e},500)}(),s=!0,!function(){if(!s||!c)return;!function(){d&&(clearInterval(d),d=null),o.classList.remove('pending-red','pending-green'),o.classList.add('success'),o.textContent='Access: SUCCESS_',setTimeout(()=>e.classList.add('hidden'),400)}()}()};l(),window.addEventListener('load',()=>{c=!0,function(){if(!s||!c)return;!function(){d&&(clearInterval(d),d=null),o.classList.remove('pending-red','pending-green'),o.classList.add('success'),o.textContent='Access: SUCCESS_',setTimeout(()=>e.classList.add('hidden'),400)}()}()})}}(),window.addEventListener('scroll',()=>{const e=window.pageYOffset,t=document.querySelector('.hero');t&&(t.style.transform=`translateY(${.5*e}px)`)}),window.addEventListener('load',()=>{const e=sessionStorage.getItem('pageLoaded');e||sessionStorage.setItem('pageLoaded','true')});
